<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Historial Mensual â€” Replay</title>
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>
  <main class="page">
    <a href="../index.html" class="back-btn">â† Volver</a>
    <h2 class="title" style="font-size:32px;color:var(--pink);font-weight:700">ğŸ“ Registrar Nuevo Mes</h2>
    <hr style="border:none;border-top:3px solid var(--pink);margin:16px 0 24px 0" />
    
    <div class="container">
      <!-- Campo 1: Mes -->
      <div class="history-card">
        <label class="history-label">Mes *</label>
        <input id="history-month" type="text" class="history-input" placeholder="Noviembre" />
      </div>

      <!-- Campo 2: AÃ±o -->
      <div class="history-card">
        <label class="history-label">AÃ±o *</label>
        <input id="history-year" type="number" class="history-input" placeholder="2024" />
      </div>

      <!-- Campo 3: InformaciÃ³n de Alumnos -->
      <div class="history-card">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
          <label class="history-label" style="margin:0">InformaciÃ³n de Alumnos Inscritos</label>
          <label class="history-label-secondary">Pagos Recibidos</label>
        </div>
        <textarea id="history-students" class="history-textarea" rows="5" placeholder="Ej: 20 personas inscritas en todas las disciplinas. Total recaudado: $7,000. MarÃ­a se inscribiÃ³..."></textarea>
      </div>

      <!-- Campo 4: InformaciÃ³n de Rentas -->
      <div class="history-card">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
          <label class="history-label" style="margin:0">InformaciÃ³n de Rentas</label>
          <label class="history-label-secondary">Pagos Recibidos</label>
        </div>
        <textarea id="history-rentals" class="history-textarea" rows="5" placeholder="Ej: 3 personas rentaron espacios. Total recaudado: $6,000. MarÃ­a renta Lun-Mie 7â€“9pm..."></textarea>
      </div>

      <!-- Campo 5: InformaciÃ³n de QuinceaÃ±eras y Montajes -->
      <div class="history-card">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
          <label class="history-label" style="margin:0">InformaciÃ³n de QuinceaÃ±eras y Montajes</label>
          <label class="history-label-secondary">Pagos Recibidos</label>
        </div>
        <textarea id="history-montajes" class="history-textarea" rows="5" placeholder="Ej: 5 personas decidieron que les montÃ¡semos algo, 2 QuinceaÃ±eras y 3 Grupos. Total recaudado: $6,000. Elena quiere montajes de quince aÃ±os..."></textarea>
      </div>

      <!-- Campo 6: Total de Pagos Recibidos -->
      <div class="history-card">
        <label class="history-label">Total de Pagos Recibidos *</label>
        <input id="history-total-payments" type="text" class="history-input" placeholder="$45,000" />
      </div>

      <!-- Campo 7: Gastos del Mes -->
      <div class="history-card">
        <label class="history-label">ğŸ’¸ Gastos del Mes (Renta, servicios, etc.)</label>
        <textarea id="history-expenses" class="history-textarea" rows="5" placeholder="Ej: Renta del espacio: $10,000. Servicios (luz, agua): $2,500. Mantenimiento: $1,000. Total gastado: $13,500"></textarea>
      </div>

      <!-- Campo 8: Pago de Maestros -->
      <div class="history-card">
        <label class="history-label">ğŸ’° Pago de Maestros</label>
        <div style="margin-bottom:12px;text-align:right">
          <button id="add-teacher-btn" class="btn">+ Agregar Maestro</button>
        </div>
        <div class="table-wrap">
          <table class="table" id="teachers-table">
            <thead>
              <tr>
                <th>Nombre del Maestro</th>
                <th>TelÃ©fono/Contacto</th>
                <th>Disciplinas que Imparte</th>
                <th>Pago Mensual</th>
                <th>Adeudo Pendiente</th>
                <th>DÃ­a de Pago</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody id="teachers-tbody">
              <!-- rendered by JS -->
            </tbody>
          </table>
        </div>
      </div>

      <!-- Campo 9: Notas Extras -->
      <div class="history-card">
        <label class="history-label">ğŸ“ Notas Extras</label>
        <textarea id="history-notes-extra" class="history-textarea" rows="5" placeholder="Notas adicionales, observaciones importantes del mes, recordatorios..."></textarea>
      </div>

      <!-- Campo 10: Notas Adicionales -->
      <div class="history-card">
        <label class="history-label">Notas Adicionales</label>
        <textarea id="history-notes-additional" class="history-textarea" rows="5" placeholder="Eventos especiales, cambios en el estudio, logros del mes..."></textarea>
      </div>

      <!-- BotÃ³n Guardar -->
      <div style="margin-top:24px;text-align:center;display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <button id="generate-history-btn" class="btn btn-secondary">âš¡ Generar Historial del Mes</button>
        <button id="save-history-btn" class="history-save-btn">ğŸ’¾ Guardar Registro del Mes</button>
      </div>

      <hr style="margin:40px 0;border:none;border-top:2px solid rgba(0,0,0,0.1)" />

      <!-- Lista de Registros Guardados -->
      <h3 style="color:var(--pink);font-size:24px;font-weight:700;margin-bottom:16px">ğŸ“… Registros Mensuales Guardados</h3>
      <div id="history-list">
        <!-- rendered by JS -->
      </div>
    </div>
  </main>
  <script src="../app.js"></script>
  <script>
    if(typeof initHistoryPage === 'function') initHistoryPage();
  </script>
</body>
</html>
